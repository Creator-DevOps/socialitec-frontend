version: 1
frontend:
  phases:
    preBuild:
      commands:
        - curl -fsSL https://bun.sh/install | bash
        - ~/.bun/bin/bun install
    build:
      commands:
        - ~/.bun/bin/bun run build
  artifacts:
    baseDirectory: dist
    files:
      - '**/*'
  cache:
    paths:
      - node_modules/**/*
      - .bun/**/*
  redirects:
    - source: /index.html
      target: /index.html
      status: 200
    - source: /assets/<*>
      target: /assets/<*>
      status: 200
    - source: /<*>.js
      target: /<*>.js
      status: 200
    - source: /<*>.css
      target: /<*>.css
      status: 200
    - source: /<*>.png
      target: /<*>.png
      status: 200
    - source: /<*>.svg
      target: /<*>.svg
      status: 200
    - source: /<*>
      target: /index.html
      status: 200
